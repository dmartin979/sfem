# Strategy Frequency Estimation Method (SFEM) 

Method to estimate proportions of strategies in the data proposed by Dal Bo and Frechette (2011). This project consists of Python code to run SFEM developed for Romero and Rosokha (2018, 2019a, 2019b) and Rosokha and Wei (2020). 

If you are going to use any of this code, please cite 
- Romero, J. and Rosokha, Y., 2018. Constructing strategies in the indefinitely repeated prisonerâ€™s dilemma game. European Economic Review, 104, pp.185-219.

Description of the method from Rosokha and Wei (2020):  "The method works by first specifying the set of $K$ strategies considered by the modeler. Then, for each subject $n\in N$, and each strategy $k\in K$, the method prescribes comparing subject $n$'s actual play with how strategy $k$ would have played in her place. Let $X(k,n)$ denote the number of periods in which subject $n$'s play correctly matches the play of strategy $k$. Then, let $X$ denote a $K \times N$ matrix of the number of correct matches for all combinations of subjects and strategies. Similarly, let $Y$ denote a $K \times N$ matrix of the number of mismatches when comparing subjects' play with what the strategies would do in their place. Then, define a Hadamard-product $P$:
\begin{equation}
    P = \beta^{X}\circ(1-\beta)^{Y},
\end{equation}
where $\beta$ is the probability that a subject plays according to a strategy and $(1-\beta)$ the probability that the subjects deviates from that strategy. Thus,
each entry $P(k,n)$ is the likelihood that the observed choices by subject $n$ were generated by strategy $k$. Then, using the matrix dot product, we define the log-likelihood function $\mathcal{L}$:
\begin{equation}
    \mathcal{L}(\beta,\phi)= ln \big( \phi' \cdot P \big) \cdot  \mathbf{1} .
\end{equation}"

Step 1: Get Action Data
  - N subjects
  - Convert to matrix
  
Step 2: Get Strategies
  - K strategies

Step 3: Create a K x N matrix 
